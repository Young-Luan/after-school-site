<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>课后复习成长站</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="bg-shape bg-shape-a" aria-hidden="true"></div>
    <div class="bg-shape bg-shape-b" aria-hidden="true"></div>

    <main class="app">
      <header class="hero">
        <p class="eyebrow">After School Hub</p>
        <h1>课后复习成长站</h1>
        <p class="subtitle">面向家长与学生的复习、打卡、微课与练习一体化学习平台</p>
        <div class="hero-stats">
          <article>
            <span id="streak-days">0</span>
            <p>连续打卡天数</p>
          </article>
          <article>
            <span id="total-minutes">0</span>
            <p>累计学习分钟</p>
          </article>
          <article>
            <span id="today-status">未打卡</span>
            <p>今日状态</p>
          </article>
        </div>
      </header>

      <nav class="tabs" aria-label="功能导航">
        <button class="tab is-active" data-tab="dashboard" type="button">学习看板</button>
        <button class="tab tab-seasonal" data-tab="winter" type="button">寒假打卡</button>
        <button class="tab" data-tab="checkin" type="button">打卡任务</button>
        <button class="tab" data-tab="micro" type="button">微课观看</button>
        <button class="tab" data-tab="practice" type="button">互动练习</button>
      </nav>

      <section class="panel" id="dashboard" data-panel>
        <h2>学习看板</h2>
        <div class="grid two">
          <article class="card">
            <h3>本周目标</h3>
            <ul>
              <li>复习单词 60 个</li>
              <li>完成语法练习 3 次</li>
              <li>观看微课 4 节</li>
            </ul>
          </article>
        </div>

        <article class="card progress">
          <h3>今日学习进度</h3>
          <div class="progress-track" aria-label="学习进度条">
            <div id="progress-bar" class="progress-fill"></div>
          </div>
          <p id="progress-text">今日任务完成度 0%</p>
        </article>

        <div class="grid two">
          <article class="card">
            <h3>练习战绩（本设备）</h3>
            <div class="mini-stats">
              <div>
                <strong id="metric-word">0</strong>
                <span>单词配对通关</span>
              </div>
              <div>
                <strong id="metric-grammar">0</strong>
                <span>语法答对次数</span>
              </div>
              <div>
                <strong id="metric-spelling">0</strong>
                <span>拼写答对次数</span>
              </div>
            </div>
          </article>

          <article class="card">
            <h3>最近 7 天打卡</h3>
            <div id="week-checkin" class="week-checkin"></div>
          </article>
        </div>

        <article class="card class-board">
          <div class="class-board-head">
            <h3>班级看板（演示）</h3>
            <div class="class-picker">
              <label for="class-selector">当前班级</label>
              <select id="class-selector"></select>
            </div>
          </div>
          <p id="class-summary" class="subtitle"></p>
          <div class="grid two">
            <section class="card soft">
              <h3>班级打卡榜</h3>
              <div id="rank-list" class="rank-list"></div>
            </section>
            <section class="card soft">
              <h3>班级学习动态</h3>
              <div id="activity-list" class="activity-list"></div>
            </section>
          </div>
        </article>
      </section>

      <section class="panel hidden" id="winter" data-panel>
        <h2>寒假打卡项目 <span class="temp-badge">临时项目</span></h2>
        <article class="card winter-hero">
          <h3>寒假专项目标（后续可拆除）</h3>
          <p>每天完成 1 次寒假专项打卡：词汇 + 朗读 + 错题复盘，培养假期学习连续性。</p>
          <div class="winter-stats">
            <div>
              <strong id="winter-count">0</strong>
              <span>项目累计打卡天数</span>
            </div>
            <div>
              <strong id="winter-status">未打卡</strong>
              <span>今日寒假项目状态</span>
            </div>
            <div>
              <strong id="winter-date-range">2026.01.15 - 2026.02.28</strong>
              <span>项目开放周期</span>
            </div>
          </div>
          <div class="actions">
            <button id="winter-checkin-btn" class="primary" type="button">完成寒假项目打卡</button>
            <button id="winter-reset-btn" type="button">重置今日寒假状态</button>
          </div>
          <p id="winter-msg" class="feedback"></p>
        </article>

        <article class="card feb20-project">
          <div class="project-head">
            <h3>2月20号打卡项目</h3>
            <span id="feb20-status" class="project-status">未完成</span>
          </div>

          <h4>1. Sounds and Spelling (音字拼读核心词汇)</h4>
          <div class="table-wrap">
            <table class="vocab-table">
              <thead>
                <tr>
                  <th>目标发音</th>
                  <th>词汇 1</th>
                  <th>词汇 2</th>
                  <th>词汇 3</th>
                  <th>词汇 4</th>
                  <th>词汇 5</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>ar</strong></td>
                  <td>arm /ɑ:m/</td>
                  <td>card /kɑ:d/</td>
                  <td>scarf /skɑ:f/</td>
                  <td>farmer /ˈfɑ:mə/</td>
                  <td>shark /ʃɑ:k/</td>
                </tr>
                <tr>
                  <td></td>
                  <td>war /wɔ:/</td>
                  <td>wharf /wɔ:f/</td>
                  <td>quarter /ˈkwɔ:tə/</td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td><strong>er / ur</strong></td>
                  <td>her /hɜ:/</td>
                  <td>serve /sɜ:v/</td>
                  <td>person /ˈpɜ:sn/</td>
                  <td>river /ˈrɪvə/</td>
                  <td>driver /ˈdraɪvə/</td>
                </tr>
                <tr>
                  <td></td>
                  <td>ladder /ˈlædə/</td>
                  <td>nurse /nɜ:s/</td>
                  <td>turtle /ˈtɜ:tl/</td>
                  <td>church /tʃɜ:tʃ/</td>
                  <td>Saturday /ˈsætədɪ/</td>
                </tr>
                <tr>
                  <td><strong>ir</strong></td>
                  <td>bird /bɜ:d/</td>
                  <td>girl /gɜ:l/</td>
                  <td>shirt /ʃɜ:t/</td>
                  <td>thirteen /ˌθɜ:ˈti:n/</td>
                  <td>thirty /ˈθɜ:tɪ/</td>
                </tr>
                <tr>
                  <td></td>
                  <td>circle /ˈsɜ:kl/</td>
                  <td>skirt /skɜ:t/</td>
                  <td>first /fɜ:st/</td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td><strong>or</strong></td>
                  <td>corn /kɔ:n/</td>
                  <td>horse /hɔ:s/</td>
                  <td>sport /spɔ:t/</td>
                  <td>forty /ˈfɔ:tɪ/</td>
                  <td>worker /ˈwɜ:kə/</td>
                </tr>
                <tr>
                  <td></td>
                  <td>word /wɜ:d/</td>
                  <td>worm /wɜ:m/</td>
                  <td>doctor /ˈdɒktə/</td>
                  <td>tailor /ˈteɪlə/</td>
                  <td>actor /ˈæktə/</td>
                </tr>
              </tbody>
            </table>
          </div>

          <h4>2. Read and Write (读写易混词汇对比)</h4>
          <div class="compare-groups">
            <section>
              <h5>第一组</h5>
              <p>dark —— smart</p>
              <p>garden —— hard</p>
              <p>fart —— warn</p>
              <p>warm —— ward</p>
              <p>award —— quart</p>
            </section>
            <section>
              <h5>第二组</h5>
              <p>herb —— term</p>
              <p>clever —— winter</p>
              <p>better —— purple</p>
              <p>purse —— turn</p>
              <p>hurt —— surprise</p>
            </section>
            <section>
              <h5>第三组</h5>
              <p>dirty —— third</p>
              <p>sir —— birth</p>
              <p>dirt —— firm</p>
              <p>stir —— fir</p>
            </section>
            <section>
              <h5>第四组</h5>
              <p>morning —— force</p>
              <p>pork —— north</p>
              <p>work —— world</p>
              <p>worth —— worse</p>
              <p>tractor —— sailor</p>
            </section>
          </div>

          <h4>3. Say it clearly and quickly (语段速读练习)</h4>
          <div class="reading-block">
            <p><strong>段落 1：</strong>A banana is in a glass. The glass is in a basket. The basket is in a car. The car is in a garden. The garden is on a farm. The farm is very, very far.</p>
            <p><strong>段落 2：</strong>Three girls in red skirts are playing with an early bird on the morning of their thirteenth birthday. The bird says, "Hello. Here is your birthday gift, a circle made of leaves."</p>
            <p><strong>段落 3：</strong>An actor is acting as a doctor. He is giving a horse a check-up. The horse will race with a tractor in a sports meeting tomorrow morning. The actor is a hard-working worker.</p>
          </div>

          <div class="actions">
            <button id="feb20-checkin-btn" class="primary" type="button">完成 2月20号项目打卡</button>
          </div>
          <p id="feb20-msg" class="feedback"></p>

          <h4>录音提交（姓名必填）</h4>
          <div class="voice-box">
            <p class="voice-note">请先录音，再输入姓名并提交。提交后老师后台可接收音频。</p>
            <div class="actions">
              <input id="voice-endpoint-input" type="text" placeholder="粘贴后台接收地址（仅管理员设置一次）" />
              <button id="voice-endpoint-save-btn" type="button">保存地址</button>
            </div>
            <div class="actions">
              <button id="voice-start-btn" class="primary" type="button">开始录音</button>
              <button id="voice-stop-btn" type="button" disabled>停止录音</button>
              <button id="voice-play-btn" type="button" disabled>播放录音</button>
            </div>
            <div class="actions">
              <input id="voice-student-name" type="text" placeholder="请输入学生姓名（必填）" />
              <button id="voice-submit-btn" class="primary" type="button">提交录音</button>
            </div>
            <audio id="voice-audio" controls class="hidden"></audio>
            <p id="voice-msg" class="feedback"></p>
          </div>
        </article>
      </section>

      <section class="panel hidden" id="checkin" data-panel>
        <h2>打卡任务</h2>
        <div class="card">
          <p>完成以下任务并点击打卡，系统将自动累计学习分钟和连续打卡。</p>
          <div class="task-list" id="task-list"></div>
          <div class="actions">
            <button id="checkin-btn" class="primary" type="button">完成今日打卡</button>
            <button id="reset-today-btn" type="button">重置今日任务</button>
            <button id="complete-all-btn" type="button">一键完成全部（演示）</button>
          </div>
          <p id="checkin-msg" class="feedback"></p>
        </div>
      </section>

      <section class="panel hidden" id="micro" data-panel>
        <h2>微课观看</h2>
        <div class="grid two" id="micro-list"></div>
        <p id="micro-msg" class="feedback"></p>
      </section>

      <section class="panel hidden" id="practice" data-panel>
        <h2>互动练习</h2>
        <div class="subtabs" aria-label="练习类型">
          <button class="subtab is-active" data-practice="word" type="button">单词游戏</button>
          <button class="subtab" data-practice="grammar" type="button">语法练习</button>
          <button class="subtab" data-practice="spelling" type="button">拼写挑战</button>
        </div>

        <section id="practice-word" class="practice-panel">
          <article class="card">
            <h3>单词配对游戏</h3>
            <p>点击英文单词，再点击对应中文释义完成配对。</p>
            <div id="match-board" class="match-board"></div>
            <p id="match-msg" class="feedback"></p>
          </article>
        </section>

        <section id="practice-grammar" class="practice-panel hidden">
          <article class="card">
            <h3>语法选择题</h3>
            <p id="grammar-question"></p>
            <div id="grammar-options" class="option-list"></div>
            <p id="grammar-msg" class="feedback"></p>
            <button id="next-grammar-btn" type="button">下一题</button>
          </article>
        </section>

        <section id="practice-spelling" class="practice-panel hidden">
          <article class="card">
            <h3>单词拼写</h3>
            <p id="spelling-hint"></p>
            <div class="actions">
              <input id="spelling-input" type="text" placeholder="请输入英文单词" />
              <button id="spelling-submit" class="primary" type="button">提交</button>
              <button id="next-spelling-btn" type="button">换一个</button>
            </div>
            <p id="spelling-msg" class="feedback"></p>
          </article>
        </section>
      </section>
    </main>

    <script type="module" src="./src/main.mjs"></script>
  </body>
</html>
